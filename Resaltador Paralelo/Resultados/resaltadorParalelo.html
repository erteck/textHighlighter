
    <html>
    <head>
        <link rel="stylesheet" href="../estilos.css">
    </head>
    <body>
    <p><pre><identifier>import</identifier> <userIdentifier>ResaltadorTexto</userIdentifier>
<identifier>import</identifier> <userIdentifier>os</userIdentifier>
<identifier>import</identifier> <userIdentifier>functools</userIdentifier>
<identifier>from</identifier> <userIdentifier>concurrent</userIdentifier><delimiter>.</delimiter><userIdentifier>futures</userIdentifier> <identifier>import</identifier> <userIdentifier>ProcessPoolExecutor</userIdentifier>
<identifier>import</identifier> <userIdentifier>time</userIdentifier>

<userIdentifier>files</userIdentifier> <delimiter>=</delimiter> <delimiter>[</delimiter><delimiter>]</delimiter> <commentary># directorios de los códigos</commentary>

<identifier>def</identifier> <userIdentifier>nameHTML</userIdentifier><delimiter>(</delimiter><userIdentifier>file</userIdentifier><delimiter>)</delimiter><delimiter>:</delimiter>
    <userIdentifier>fileName</userIdentifier> <delimiter>=</delimiter> <userIdentifier>os</userIdentifier><delimiter>.</delimiter><userIdentifier>path</userIdentifier><delimiter>.</delimiter><userIdentifier>split</userIdentifier><delimiter>(</delimiter><userIdentifier>file</userIdentifier><delimiter>)</delimiter> 
    <identifier>return</identifier> <userIdentifier>fileName</userIdentifier><delimiter>[</delimiter><integer>1</integer><delimiter>]</delimiter><delimiter>[</delimiter><delimiter>:</delimiter><operator>-</operator><integer>2</integer><delimiter>]</delimiter> <operator>+</operator> <string>"html"</string>

<identifier>def</identifier> <userIdentifier>findFiles</userIdentifier><delimiter>(</delimiter><userIdentifier>directory</userIdentifier><delimiter>)</delimiter><delimiter>:</delimiter>
    <userIdentifier>os</userIdentifier><delimiter>.</delimiter><userIdentifier>chdir</userIdentifier><delimiter>(</delimiter><userIdentifier>directory</userIdentifier><delimiter>)</delimiter>
    <userIdentifier>currentDirectory</userIdentifier> <delimiter>=</delimiter> <userIdentifier>os</userIdentifier><delimiter>.</delimiter><userIdentifier>listdir</userIdentifier><delimiter>(</delimiter><userIdentifier>directory</userIdentifier><delimiter>)</delimiter> <commentary>#['Codigos', 'Imagenes', 'code.py', 'imagen.jpg']</commentary>
    <identifier>for</identifier> <userIdentifier>element</userIdentifier> <identifier>in</identifier> <userIdentifier>currentDirectory</userIdentifier><delimiter>:</delimiter>
        <identifier>if</identifier> <string>'.py'</string> <identifier>in</identifier> <userIdentifier>element</userIdentifier><delimiter>:</delimiter>
            <commentary># Agregar path de archivo .py a files</commentary>
            <userIdentifier>files</userIdentifier><delimiter>.</delimiter><userIdentifier>append</userIdentifier><delimiter>(</delimiter><userIdentifier>os</userIdentifier><delimiter>.</delimiter><userIdentifier>getcwd</userIdentifier><delimiter>(</delimiter><delimiter>)</delimiter> <operator>+</operator> <string>'\\'</string><operator>+</operator> <userIdentifier>element</userIdentifier><delimiter>)</delimiter>
        <identifier>elif</identifier> <delimiter>(</delimiter><string>'.'</string> <identifier>not</identifier> <identifier>in</identifier> <userIdentifier>element</userIdentifier><delimiter>)</delimiter> <identifier>and</identifier> <delimiter>(</delimiter><string>'__pycache__'</string> <identifier>not</identifier> <identifier>in</identifier> <userIdentifier>element</userIdentifier><delimiter>)</delimiter><delimiter>:</delimiter>
            <commentary># Llamada recursiva para explorar directorios interiores</commentary>
            <userIdentifier>findFiles</userIdentifier><delimiter>(</delimiter><userIdentifier>os</userIdentifier><delimiter>.</delimiter><userIdentifier>getcwd</userIdentifier><delimiter>(</delimiter><delimiter>)</delimiter> <operator>+</operator> <string>'\\'</string><operator>+</operator> <userIdentifier>element</userIdentifier><delimiter>)</delimiter>
            <commentary># Regresa al directorio anterior</commentary>
            <userIdentifier>os</userIdentifier><delimiter>.</delimiter><userIdentifier>chdir</userIdentifier><delimiter>(</delimiter><userIdentifier>os</userIdentifier><delimiter>.</delimiter><userIdentifier>path</userIdentifier><delimiter>.</delimiter><userIdentifier>dirname</userIdentifier><delimiter>(</delimiter><userIdentifier>os</userIdentifier><delimiter>.</delimiter><userIdentifier>getcwd</userIdentifier><delimiter>(</delimiter><delimiter>)</delimiter><delimiter>)</delimiter><delimiter>)</delimiter>
        

<identifier>def</identifier> <userIdentifier>main</userIdentifier><delimiter>(</delimiter><userIdentifier>directory</userIdentifier><delimiter>,</delimiter><userIdentifier>sExpressions</userIdentifier><delimiter>,</delimiter><userIdentifier>cores</userIdentifier><delimiter>)</delimiter><delimiter>:</delimiter>
    <userIdentifier>chunks</userIdentifier> <delimiter>=</delimiter> <userIdentifier>len</userIdentifier><delimiter>(</delimiter><userIdentifier>files</userIdentifier><delimiter>)</delimiter><operator>//</operator><userIdentifier>cores</userIdentifier>
    <identifier>if</identifier> <userIdentifier>chunks</userIdentifier> <operator><</operator> <integer>1</integer><delimiter>:</delimiter>
        <userIdentifier>chunks</userIdentifier> <delimiter>=</delimiter> <integer>1</integer>
    <userIdentifier>data</userIdentifier> <delimiter>=</delimiter> <userIdentifier>ResaltadorTexto</userIdentifier><delimiter>.</delimiter><userIdentifier>expressionsFile</userIdentifier><delimiter>(</delimiter><userIdentifier>sExpressions</userIdentifier><delimiter>)</delimiter>
    <userIdentifier>htmlNames</userIdentifier> <delimiter>=</delimiter> <delimiter>[</delimiter><delimiter>]</delimiter>
    <userIdentifier>findFiles</userIdentifier><delimiter>(</delimiter><userIdentifier>directory</userIdentifier><delimiter>)</delimiter>
    
    <userIdentifier>os</userIdentifier><delimiter>.</delimiter><userIdentifier>mkdir</userIdentifier><delimiter>(</delimiter><string>'Resultados'</string><delimiter>)</delimiter>
    
    <userIdentifier>os</userIdentifier><delimiter>.</delimiter><userIdentifier>chdir</userIdentifier><delimiter>(</delimiter><string>'Resultados'</string><delimiter>)</delimiter>
    <identifier>with</identifier> <userIdentifier>ProcessPoolExecutor</userIdentifier><delimiter>(</delimiter><userIdentifier>max_workers</userIdentifier><delimiter>=</delimiter><integer>6</integer><delimiter>)</delimiter> <identifier>as</identifier> <userIdentifier>executor</userIdentifier><delimiter>:</delimiter>
        <userIdentifier>fileNames</userIdentifier> <delimiter>=</delimiter> <userIdentifier>executor</userIdentifier><delimiter>.</delimiter><userIdentifier>map</userIdentifier><delimiter>(</delimiter><userIdentifier>nameHTML</userIdentifier><delimiter>,</delimiter> <userIdentifier>files</userIdentifier><delimiter>)</delimiter>
    <identifier>for</identifier> <userIdentifier>name</userIdentifier> <identifier>in</identifier> <userIdentifier>fileNames</userIdentifier><delimiter>:</delimiter>
        <userIdentifier>htmlNames</userIdentifier><delimiter>.</delimiter><userIdentifier>append</userIdentifier><delimiter>(</delimiter><userIdentifier>name</userIdentifier><delimiter>)</delimiter>
    <identifier>with</identifier> <userIdentifier>ProcessPoolExecutor</userIdentifier><delimiter>(</delimiter><userIdentifier>max_workers</userIdentifier><delimiter>=</delimiter><integer>6</integer><delimiter>)</delimiter> <identifier>as</identifier> <userIdentifier>executor</userIdentifier><delimiter>:</delimiter>        
        <userIdentifier>newFun</userIdentifier> <delimiter>=</delimiter> <userIdentifier>functools</userIdentifier><delimiter>.</delimiter><userIdentifier>partial</userIdentifier><delimiter>(</delimiter><userIdentifier>ResaltadorTexto</userIdentifier><delimiter>.</delimiter><userIdentifier>textHighlighter</userIdentifier><delimiter>,</delimiter> <userIdentifier>data</userIdentifier><delimiter>[</delimiter><integer>0</integer><delimiter>]</delimiter><delimiter>,</delimiter> <userIdentifier>data</userIdentifier><delimiter>[</delimiter><integer>1</integer><delimiter>]</delimiter><delimiter>)</delimiter>
        <userIdentifier>future</userIdentifier> <delimiter>=</delimiter> <userIdentifier>executor</userIdentifier><delimiter>.</delimiter><userIdentifier>map</userIdentifier><delimiter>(</delimiter><userIdentifier>newFun</userIdentifier><delimiter>,</delimiter> <userIdentifier>files</userIdentifier><delimiter>,</delimiter> <userIdentifier>htmlNames</userIdentifier><delimiter>,</delimiter> <userIdentifier>chunksize</userIdentifier> <delimiter>=</delimiter> <userIdentifier>chunks</userIdentifier><delimiter>)</delimiter>
    
        
<identifier>if</identifier> <userIdentifier>__name__</userIdentifier> <operator>==</operator> <string>'__main__'</string><delimiter>:</delimiter> 
    <userIdentifier>startTime</userIdentifier> <delimiter>=</delimiter> <userIdentifier>time</userIdentifier><delimiter>.</delimiter><userIdentifier>time</userIdentifier><delimiter>(</delimiter><delimiter>)</delimiter>
    <userIdentifier>main</userIdentifier><delimiter>(</delimiter><userIdentifier>os</userIdentifier><delimiter>.</delimiter><userIdentifier>getcwd</userIdentifier><delimiter>(</delimiter><delimiter>)</delimiter><delimiter>,</delimiter><string>'expresionesS.txt'</string><delimiter>,</delimiter><integer>6</integer><delimiter>)</delimiter>
    <userIdentifier>finishTime</userIdentifier> <delimiter>=</delimiter> <userIdentifier>time</userIdentifier><delimiter>.</delimiter><userIdentifier>time</userIdentifier><delimiter>(</delimiter><delimiter>)</delimiter> <operator>-</operator> <userIdentifier>startTime</userIdentifier>
    <userIdentifier>print</userIdentifier><delimiter>(</delimiter><string>'Tiempo de Ejecución: '</string><operator>+</operator> <userIdentifier>str</userIdentifier><delimiter>(</delimiter><userIdentifier>finishTime</userIdentifier><delimiter>)</delimiter><delimiter>)</delimiter>
</pre><p></body></html>